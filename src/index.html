<!DOCTYPE html>
<html>

<head>
	<title>test</title>
	<link rel="stylesheet" href="css/newsFeedBox.min.css">
	<script src="https://platform.twitter.com/widgets.js"></script>

	<script async defer src="//platform.instagram.com/en_US/embeds.js"></script>

</head>

<body>
	<ul></ul>
	<div class="popup-box">
		<div id="shaking-button" class="buttonwrapper">
			<button onclick="contact_window_show()" class="buttonshake">News feed</button>
		</div>

		<div class="feed-form" id="feed-form">
			<div class="feed-form-header">News feed:
				<span class="action-element" onclick="contact_window_hide()">&#10006</span>
			</div>
			<div id="form-content" class="form-content">
				<div id="form-loading">
					<img src="./img/ring-alt.svg" alt="">
				</div>
			</div>
		</div>
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
	<script type="text/javascript" src="./js/NewsFeedBox.js"></script>
	<script>
        window.addEventListener('DOMContentLoaded', function() {
           info_get(); // 1st
            var invocation = new XMLHttpRequest();
            getPhotos();
            //  var url = 'https://api.instagram.com/oembed/?maxwidth=350&callback=callbfunc(data)&url=http://instagr.am/p/fA9uwTtkSN/';

			// var url = "https://api.instagram.com/v1/users/self/media/recent/?access_token=2881888039.fcdc991.945a7e2b197a429cba59f302c3698bb3&format=json";
        }, true);

        var token = '1362124742.3ad74ca.6df307b8ac184c2d830f6bd7c2ac5644', // learn how to obtain it below
            userid = 'self', // User ID - get it in source HTML of your Instagram profile or look at the next example :)
            num_photos = 4; // how much photos do you want to get


		function getPhotos() {
            $.ajax({
                url: 'https://api.instagram.com/v1/users/' + userid + '/media/recent', // or /users/self/media/recent for Sandbox
                dataType: 'jsonp',
                type: 'GET',
                data: {access_token: token, count: num_photos},
                success: function(data){
                    console.log(data);
                    for( x in data.data ){
                        $('ul').append('<li><img src="'+data.data[x].images.low_resolution.url+'"></li>'); // data.data[x].images.low_resolution.url - URL of image, 306х306
                        // data.data[x].images.thumbnail.url - URL of image 150х150
                        // data.data[x].images.standard_resolution.url - URL of image 612х612
                        // data.data[x].link - Instagram post URL
                    }
                },
                error: function(data){
                    console.log(data); // send the error notifications to console
                }
            });
        }


		</script>

</body>